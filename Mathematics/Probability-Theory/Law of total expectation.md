**Law of total expectation** / **iterated expectation** / **tower rule** says


$$
\mathbb{E}[X] = \mathbb{E}\big[\mathbb{E}[X \mid Y]\big]
$$

$$
\mathbb{E}[f(Y)X] = \mathbb{E}\big[f(Y) \mathbb{E}[X \mid Y]\big]
$$

