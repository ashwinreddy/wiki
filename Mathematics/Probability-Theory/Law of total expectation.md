**Law of total expectation** / **iterated expectation** / **tower rule** says that the [[expected value]] of a [[random variable]] is equal to the mean of a [[conditional expectation]].


\begin{equation}
\mathbb{E}[X] = \mathbb{E}\big[\mathbb{E}[X \mid Y]\big]
\end{equation}

A more advanced version, which follows directly, says

$$
\mathbb{E}[f(Y)X] = \mathbb{E}\big[f(Y) \mathbb{E}[X \mid Y]\big]
$$

