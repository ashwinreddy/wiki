**Law of total expectation** / **iterated expectation** / **tower rule** says


\begin{equation}
\mathbb{E}[X] = \mathbb{E}\big[\mathbb{E}[X \mid Y]\big]
\end{equation}

A more advanced version says

$$
\mathbb{E}[f(Y)X] = \mathbb{E}\big[f(Y) \mathbb{E}[X \mid Y]\big]
$$

